<!DOCTYPE html>
<HTML lang="fi">

<body>



    <style>
        body {
            font-family: "Trebuchet MS", Helvetica, sans-serif;
            color: #333333;
        }

        div {
            width: 200px;
            height: 100px;
            border: 1px solid black;
        }

        table,
        tr,
        td {
            border: 1px solid gray;
            width: 50%;
        }
    </style>

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>WS3 - harjoitus4</title>
    </head>


    <h1>Workshop 3: JavaScript Events</h1>
    <hr />
    <p>In this exercise we will practice the use of BOM and the JavaScript events. Use the lecture-material as a
        reference
        guide side by side these exercises. It might also be a
        good idea to save the lines of code you write during the exercises for later use.</p>


    <h2>Exercise 4</h2>
    <p>Below you will see a simple form.</p>
    <ul>
        <li>Add onfocus -event to the&nbsp;textarea below. When the user enters the textarea, it should show a text
            saying:
            "Please fill in the form with proper data.". You can try
            modifying the background color of the box as well. &nbsp;
        </li>
        <li>Try to use onkeydown -event on the textarea. It should calculate the number of keypresses and output them on
            the
            screen. Could you think other smart ways to use it?
        </li>
        <li>When the form "Send me" button is clicked, check if the textarea is empty. Notify the user with appropriate
            message. HINT:
            You can access the Textarea using the following
            command: <i>document.getElementById("textdata").value</i>. We will study the forms deeper in Workshops 4 and
            5.
        </li>
    </ul>

    <p>So far you have hardcoded the events into HTML tags. Make a copy of your exercise file and try to add the events
        dynamically, without touching the HTML at all. This can be
        achieved using addEventListener() -function,
        <a target="_blank" href="https://www.w3schools.com/js/js_htmldom_eventlistener.asp"> see more here
        </a>.
        <br>
    </p>


    <form>
        <textarea id="textdata" placeholder="Anna teksti tähän!"></textarea><br>
        <h3 id="counter"></h3>
        <button id="nappula">Send me</button>
    </form>
    <script>

        // <!-- JavaScript goes
        document.getElementById("textdata").addEventListener("keydown", count);
        document.getElementById("textdata").addEventListener("focus", attention);
        document.getElementById("nappula").addEventListener("click", validate);
        var counter = 0;
        var left = 255

        function validate() {
            var textbox = document.getElementById('textdata');
            console.log("Ollaan validoimass");

            // If the field is empty
            if (textbox.value == '' || counter == 0) {
                alert("Field is empty!");
                textbox.style = "background: white";
                //   return false;
            }
        }

        function count() {
            // Increase the number on keypresses
            counter++;
            left--;
            // Find an element with an id "counter" and place the variable there
            document.getElementById('counter').innerHTML = counter + "/" + left;

        }

        function attention() {
            // Find the element with an id "textbox" on the page
            var textbox = document.getElementById('textdata');

            // Change the contents
            textbox.innerHTML = " ";

            // Change the background to red
            textbox.style = "background: lightgray";
        }

    </script>
</body>

</html>